ðŸš€ Plano TÃ¡tico â€” 3 Dias para Entrega (Backend First)

ðŸ“… SEGUNDA-FEIRA: FundaÃ§Ã£o (Base SÃ³lida)

ðŸŒ… ManhÃ£ - Setup (9h-12h):
1. [30min] Inicializar projeto
   - Criar estrutura de pastas
   - Setup TypeScript + ESLint
   - Instalar dependÃªncias base

2. [30min] Setup Docker (OBRIGATÃ“RIO)
   - Criar Dockerfile
   - Configurar docker-compose.yml
   - Testar build local

3. [30min] Releitura do ProtÃ³tipo Figma (OBRIGATÃ“RIO)
   - Analisar protÃ³tipo original
   - Criar nova versÃ£o melhorada
   - Documentar mudanÃ§as de UX/UI

4. [1h] Setup Supabase
   - Criar projeto
   - Configurar tabelas
   - Implementar Ã­ndices
   - Testar conexÃ£o

5. [1h] Estrutura Base
   - Configurar Fastify
   - Implementar error handling
   - Criar estrutura de mÃ³dulos
   - Setup bÃ¡sico de auth

ðŸŒ‡ Tarde - Core Features (14h-18h):
1. [2h] Implementar AutenticaÃ§Ã£o
   - Login/Registro bÃ¡sico
   - Middleware de auth
   - Rotas protegidas
   - Testes unitÃ¡rios do UserService (/tests/unit/users/service.test.ts)

2. [2h] Clock Module Base
   - Repository layer
   - Service layer bÃ¡sico
   - Controllers base
   - Testes unitÃ¡rios do ClockService (/tests/unit/clock/service.test.ts)

ðŸ“… TERÃ‡A-FEIRA: Funcionalidades Core

ðŸŒ… ManhÃ£ - Features Essenciais (9h-12h):
1. [1.5h] Clock-in/Clock-out
   - Implementar registro de ponto
   - ValidaÃ§Ãµes bÃ¡sicas
   - Atualizar testes unitÃ¡rios conforme novas funcionalidades

2. [1.5h] Consultas Essenciais
   - Status atual
   - Horas do dia
   - HistÃ³rico bÃ¡sico

ðŸŒ‡ Tarde - Regras de NegÃ³cio (14h-18h):
1. [2h] ValidaÃ§Ãµes e Regras
   - Impedir mÃºltiplos turnos
   - Validar horÃ¡rios
   - Calcular horas trabalhadas

2. [2h] Testes de IntegraÃ§Ã£o
   - Testar fluxos principais
   - Validar regras de negÃ³cio
   - Corrigir bugs encontrados

ðŸ“… QUARTA-FEIRA: Polish e Entrega

ðŸŒ… ManhÃ£ - Frontend Start (9h-12h):
1. [3h] Setup Frontend
   - Criar projeto React
   - Implementar telas base
   - Conectar com API

ðŸŒ‡ Tarde - FinalizaÃ§Ã£o (14h-18h):
1. [2h] Deploy
   - Backend no Render
   - Frontend na Vercel
   - Testar em produÃ§Ã£o

2. [2h] DocumentaÃ§Ã£o e Polish
   - README completo
   - DocumentaÃ§Ã£o SOLID
   - Ãšltimos ajustes
   - Teste final

ðŸŽ¯ Prioridades Absolutas:
1. â­ï¸ Clock-in/out funcionando
2. â­ï¸ CÃ¡lculo correto de horas
3. â­ï¸ AutenticaÃ§Ã£o bÃ¡sica
4. â­ï¸ Frontend utilizÃ¡vel
5. â­ï¸ Deploy funcionando
6. â­ï¸ Docker configurado (OBRIGATÃ“RIO)
7. â­ï¸ Releitura do Figma (OBRIGATÃ“RIO)

ðŸ—ï¸ Estrutura Simplificada:
```
/src
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ controller.ts  # Login/registro
â”‚   â”‚   â”œâ”€â”€ service.ts     # LÃ³gica de auth
â”‚   â”‚   â””â”€â”€ repository.ts  # DB queries
â”‚   â””â”€â”€ clock/
â”‚       â”œâ”€â”€ controller.ts  # Endpoints
â”‚       â”œâ”€â”€ service.ts     # Regras de negÃ³cio
â”‚       â””â”€â”€ repository.ts  # DB queries
â”œâ”€â”€ middlewares/
â”‚   â””â”€â”€ auth.ts           # JWT validation
â””â”€â”€ utils/
    â””â”€â”€ date.ts          # Helpers de data

# Arquivos Docker (OBRIGATÃ“RIOS)
/Dockerfile
/docker-compose.yml
/.dockerignore
```

ðŸ“ Regras MÃ­nimas ViÃ¡veis:
1. Um usuÃ¡rio sÃ³ pode ter um turno aberto
2. Clock-out sempre apÃ³s clock-in
3. Calcular horas do dia corretamente
4. AutenticaÃ§Ã£o bÃ¡sica funcionando
5. Frontend responsivo e usÃ¡vel

ðŸŽ¨ Frontend MÃ­nimo:
1. Tela de login
2. Dashboard com:
   - BotÃ£o clock-in/out
   - Horas do dia
   - HistÃ³rico simples

ðŸ”§ Stack Final:
- Backend: Fastify + Supabase
- Frontend: React + TailwindCSS
- Deploy: Render + Vercel
- ContainerizaÃ§Ã£o: Docker (OBRIGATÃ“RIO)

âš ï¸ ObservaÃ§Ãµes:
- Foco em qualidade > quantidade
- Testar bem o que for entregue
- Manter cÃ³digo limpo e documentado
- Priorizar UX nas features essenciais

ðŸ“ Regras de NegÃ³cio Core:

1. Registro de Ponto
   - Apenas um turno aberto por vez
   - Clock-out sempre posterior ao clock-in
   - Notas opcionais em cada registro

2. CÃ¡lculo de Horas
   - Total calculado no clock-out
   - HistÃ³rico por dia
   - Status atual do usuÃ¡rio

3. ValidaÃ§Ãµes
   - Verificar turno aberto antes de novo clock-in
   - Verificar turno existente antes de clock-out
   - Validar formato de datas/horas

4. SeguranÃ§a
   - AutenticaÃ§Ã£o via JWT
   - ProteÃ§Ã£o de rotas
   - SanitizaÃ§Ã£o de inputs

ðŸ”§ Stack TecnolÃ³gico:

- Runtime: Node.js 18+
- Framework: Fastify
- Banco: Supabase (PostgreSQL)
- ValidaÃ§Ã£o: Zod
- Testes: Vitest + Supertest
- CI/CD: GitHub Actions
- Deploy: Render
- ContainerizaÃ§Ã£o: Docker (OBRIGATÃ“RIO)

ðŸ“¦ Estrutura Final:

```
/src
â”œâ”€â”€ app.ts                # App Fastify
â”œâ”€â”€ server.ts             # Server startup
â”œâ”€â”€ config/              
â”‚   â”œâ”€â”€ database.ts      # Supabase config
â”‚   â””â”€â”€ env.ts           # Env vars
â”œâ”€â”€ modules/             
â”‚   â”œâ”€â”€ users/          
â”‚   â”‚   â”œâ”€â”€ controller.ts
â”‚   â”‚   â”œâ”€â”€ service.ts   
â”‚   â”‚   â”œâ”€â”€ repository.ts
â”‚   â”‚   â””â”€â”€ types.ts     
â”‚   â””â”€â”€ clock/          
â”‚       â”œâ”€â”€ controller.ts
â”‚       â”œâ”€â”€ service.ts   
â”‚       â”œâ”€â”€ repository.ts
â”‚       â””â”€â”€ types.ts     
â”œâ”€â”€ middlewares/
â”‚   â”œâ”€â”€ auth.ts
â”‚   â””â”€â”€ error-handler.ts
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ date.ts
â”‚   â””â”€â”€ validation.ts
â””â”€â”€ types/
    â””â”€â”€ common.ts

# Arquivos Docker (OBRIGATÃ“RIOS)
/Dockerfile
/docker-compose.yml
/.dockerignore
```

ðŸŽ¯ Prioridades por Ordem:
1. Funcionalidade core de clock-in/out
2. CÃ¡lculo correto de horas
3. AutenticaÃ§Ã£o e seguranÃ§a
4. Consultas e histÃ³rico
5. DocumentaÃ§Ã£o e testes
6. Deploy e CI/CD
7. Docker configurado (OBRIGATÃ“RIO)
8. Releitura do Figma (OBRIGATÃ“RIO)

âœ… Definir Regras de NegÃ³cio

Turno Ã© aberto e fechado manualmente.

SÃ³ pode existir um turno aberto por vez.

CÃ¡lculo de horas com base em clock-in e clock-out.

HistÃ³rico por dia.

âœ… Modelagem do Banco (Supabase/Postgres)

Tabelas:

users

clock_entries

âœ… Setup do Projeto

Node.js + TypeScript

Fastify

Zod (validaÃ§Ã£o)

Supabase Client

Prisma (opcional, mas recomendado se quiser ORM robusto)

ESLint + Prettier + Husky + lint-staged

Vitest + Supertest (testes)

ðŸ”§ Fase 2: Arquitetura Base
Criar estrutura de pastas:

bash
Copiar
Editar
/src
â”œâ”€â”€ app.ts
â”œâ”€â”€ server.ts
â”œâ”€â”€ config/            # ConexÃµes, env
â”œâ”€â”€ modules/           # DomÃ­nios
â”‚   â””â”€â”€ clock/         # clock-entry
â”‚       â”œâ”€â”€ controller/
â”‚       â”œâ”€â”€ service/
â”‚       â”œâ”€â”€ repository/
â”‚       â””â”€â”€ dto/
â”œâ”€â”€ routes/            # Agrupamento de rotas
â”œâ”€â”€ middlewares/
â”œâ”€â”€ utils/
â””â”€â”€ types/
ðŸ—ï¸ Fase 3: ImplementaÃ§Ã£o Funcional (Core)
Repository Layer (Acesso ao Supabase ou Prisma)

Service Layer (Regras de negÃ³cio puras)

Controller Layer (Entrada HTTP, validaÃ§Ã£o)

Routes (OrganizaÃ§Ã£o modular das rotas)

ðŸ§  Fase 4: Middlewares e Error Handling
Handler global de erros.

Logs.

ValidaÃ§Ã£o.

(Opcional) AutenticaÃ§Ã£o.

ðŸ§ª Fase 5: Testes
UnitÃ¡rios: services isolados.

IntegraÃ§Ã£o: endpoints simulando requests reais.

ðŸ³ Fase 6: Infra e Deploy
Dockerfile

Docker Compose (para local com Supabase)

Deploy Render (backend) + Supabase (DB managed)

ðŸ”§ Fase 7: Docker (OBRIGATÃ“RIO)
Dockerfile para produÃ§Ã£o

docker-compose.yml para desenvolvimento

.dockerignore para otimizaÃ§Ã£o

ðŸ§ª Fase 8: Testes EspecÃ­ficos (OBRIGATÃ“RIO)
Testes unitÃ¡rios dos services

Testes de integraÃ§Ã£o dos endpoints

Testes de regras de negÃ³cio

Testes de autenticaÃ§Ã£o

ðŸŽ¨ Fase 9: Releitura do Figma (OBRIGATÃ“RIO)
Analisar protÃ³tipo original

Criar nova versÃ£o melhorada

Documentar mudanÃ§as de UX/UI

ðŸ“‹ Fase 10: DocumentaÃ§Ã£o SOLID (OBRIGATÃ“RIO)
S - Single Responsibility Principle
O - Open/Closed Principle  
L - Liskov Substitution Principle
I - Interface Segregation Principle
D - Dependency Inversion Principle

Documentar como cada princÃ­pio foi aplicado no cÃ³digo

Etapas do Projeto Clockwise:

1. Backend (ConcluÃ­do)
   - ConfiguraÃ§Ã£o inicial
   - ImplementaÃ§Ã£o dos mÃ³dulos (users, clock)
   - AutenticaÃ§Ã£o JWT
   - ValidaÃ§Ãµes
   - Testes de integraÃ§Ã£o

2. Testes UnitÃ¡rios
   - LocalizaÃ§Ã£o: /tests/unit/
   - Arquivos a serem testados:
     * /tests/unit/users/service.test.ts - testes do UserService
     * /tests/unit/clock/service.test.ts - testes do ClockService
   - Foco em testar:
     * Regras de negÃ³cio
     * ValidaÃ§Ãµes
     * TransformaÃ§Ãµes de dados
     * Casos de erro

3. Frontend (PrÃ³xima etapa)
   - Setup do projeto React
   - ImplementaÃ§Ã£o das telas
   - IntegraÃ§Ã£o com backend
   - Testes

4. DocumentaÃ§Ã£o
   - API docs
   - Setup instructions
   - Deployment guide

ðŸš€ Plano TÃ¡tico â€” Frontend (3 Dias)

ðŸ“… DIA 1: FundaÃ§Ã£o e Design

ðŸŒ… ManhÃ£ - Setup e Design (9h-12h):
1. [1h] Design System Base
   - Definir paleta de cores:
     * Primary: #7C3AED (Roxo)
     * Secondary: #1F2937 (Cinza escuro)
     * Background: #111827 (Preto azulado)
     * Text: #F9FAFB (Branco suave)
     * Accent: #10B981 (Verde)
     * Error: #EF4444 (Vermelho suave)
   
   - Configurar tipografia:
     * Font-family: Inter
     * TÃ­tulos: 24px (bold)
     * SubtÃ­tulos: 20px (semibold)
     * Texto: 14px (regular)
     * Timer/NÃºmeros: Monospace
     * Pesos: 400, 500, 600, 700

2. [1h] Setup do Projeto
   - Criar projeto com Vite
   - Configurar TypeScript
   - Instalar e configurar:
     * TailwindCSS
     * React Router DOM
     * React Query
     * Axios
     * ESLint + Prettier
     * Framer Motion (para animaÃ§Ãµes)

3. [1h] Estrutura Base
   - Organizar pastas
   - Configurar rotas
   - Criar layouts base
   - Setup do TailwindCSS com tema personalizado

ðŸŒ‡ Tarde - Componentes Base (14h-18h):
1. [2h] Componentes UI
   - BotÃµes:
     * Primary (roxo com hover mais claro)
     * Secondary (cinza com hover)
     * Ghost (transparente com borda)
     * Clock-in/out (verde/vermelho)
   
   - Inputs:
     * Text com validaÃ§Ã£o visual
     * Password com toggle visibilidade
     * Date picker customizado
   
   - Cards:
     * Status card (com gradiente sutil)
     * Info card (dados/estatÃ­sticas)
     * History card (registros)
   
   - Feedback:
     * Toast notifications
     * Loading spinners
     * Skeleton screens
     * Error states

2. [2h] PÃ¡gina de Login
   - Layout centralizado com card
   - Logo minimalista
   - Form com validaÃ§Ã£o
   - Feedback de erros
   - AnimaÃ§Ãµes suaves
   - Responsividade

ðŸ“… DIA 2: Features Core

ðŸŒ… ManhÃ£ - Dashboard (9h-12h):
1. [3h] Tela Principal
   - Header:
     * Nome do usuÃ¡rio Ã  esquerda
     * BotÃ£o logout discreto Ã  direita
     * Linha separadora sutil
   
   - Ãrea Central:
     * Status card grande
     * Timer em destaque
     * BotÃ£o clock-in/out
   
   - Grid Inferior:
     * Card de horas do dia
     * Card de mÃ©dia semanal
     * Mini grÃ¡fico de histÃ³rico

ðŸŒ‡ Tarde - HistÃ³rico (14h-18h):
1. [2h] Lista de Registros
   - Tabela clean:
     * Linhas alternadas sutis
     * Colunas bem definidas
     * OrdenaÃ§Ã£o visual clara
     * PaginaÃ§Ã£o minimalista
   
   - Filtros:
     * Por data (calendÃ¡rio custom)
     * Por status
     * Por duraÃ§Ã£o

2. [2h] Detalhes e Stats
   - Modal de detalhes:
     * Info completa do registro
     * AÃ§Ãµes disponÃ­veis
     * AnimaÃ§Ã£o de entrada/saÃ­da
   
   - EstatÃ­sticas:
     * GrÃ¡ficos minimalistas
     * Dados semanais/mensais
     * ExportaÃ§Ã£o de relatÃ³rios

ðŸ“… DIA 3: Polish e Responsividade

ðŸŒ… ManhÃ£ - Mobile e Tablets (9h-12h):
1. [3h] AdaptaÃ§Ã£o Mobile
   - Navigation bottom bar
   - Cards empilhados
   - BotÃµes adaptados para touch
   - Gestures (pull-to-refresh)
   - Menu hamburguer animado
   - Tabela responsiva
   - Modal fullscreen

ðŸŒ‡ Tarde - FinalizaÃ§Ã£o (14h-18h):
1. [2h] AnimaÃ§Ãµes e TransiÃ§Ãµes
   - Page transitions
   - Hover effects
   - Loading states
   - Micro-interaÃ§Ãµes
   - Feedback visual

2. [2h] Performance e Deploy
   - OtimizaÃ§Ã£o de assets
   - Lazy loading
   - Code splitting
   - Deploy na Vercel
   - Testes finais

ðŸŽ¯ Prioridades Absolutas:
1. â­ï¸ Design system consistente
2. â­ï¸ ExperiÃªncia fluida
3. â­ï¸ Mobile-first
4. â­ï¸ Performance
5. â­ï¸ Feedback visual claro
6. â­ï¸ AnimaÃ§Ãµes suaves
7. â­ï¸ Responsividade

ðŸ“± Breakpoints:
- Mobile: 320px - 480px
- Tablet: 481px - 768px
- Desktop: 769px - 1024px
- Wide: 1025px+

ðŸ”„ Estados de Loading:
- Skeleton screens para cards
- Spinner minimalista roxo
- Shimmer effect
- Progress bars

ðŸ“‹ ValidaÃ§Ãµes:
- Feedback instantÃ¢neo
- Mensagens claras
- Indicadores visuais
- Tooltips de ajuda

ðŸŽ¯ MÃ©tricas de Sucesso:
1. Performance
   - Lighthouse score > 90
   - FCP < 1.8s
   - TTI < 3.8s
   - CLS < 0.1

2. UX
   - Fluxos < 3 cliques
   - Feedback < 100ms
   - Zero estados vazios
   - 100% responsivo

âš ï¸ ObservaÃ§Ãµes:
- Manter simplicidade
- Priorizar usabilidade
- ConsistÃªncia visual
- Feedback claro
- Performance primeiro

